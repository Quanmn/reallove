<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<TITLE>Love Minh √Ånh</TITLE>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
html, body {
    height: 100%;
    padding: 0;
    margin: 0;
    background: radial-gradient(ellipse at bottom, #0d1b2a 0%, #000 100%);
    overflow: hidden;
}

/* N·ªÅn sao l·∫•p l√°nh */
.stars {
    position: absolute;
    width: 100%;
    height: 100%;
    background: transparent;
    overflow: hidden;
    z-index: 0;
}

.star {
    position: absolute;
    background: white;
    border-radius: 50%;
    opacity: 0.8;
    animation: twinkle 2s infinite ease-in-out;
}

@keyframes twinkle {
    0%, 100% { opacity: 0.2; }
    50% { opacity: 1; }
}

/* Canvas tr√°i tim */
canvas {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 1;
}

/* N√∫t Y√™u Anh */
.button {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #ea80b0;
    border: none;
    padding: 15px 30px;
    color: white;
    font-size: 20px;
    border-radius: 25px;
    cursor: pointer;
    z-index: 10;
    opacity: 0;
    transition: opacity 0.5s, transform 0.3s;
}
.button:hover {
    transform: translate(-50%, -50%) scale(1.05);
}
.button.visible {
    opacity: 1;
}

/* ·∫¢nh hai b√™n d∆∞·ªõi */
.side-img {
    position: fixed;
    bottom: 0;
    width: 300px;
    animation: sway 5s ease-in-out infinite;
    z-index: 2;
    opacity: 0.9;
}

.left-img { left: 30px; }
.right-img { right: 30px; }

/* ·∫¢nh hai b√™n tr√™n */
.top-img {
    position: fixed;
    top: 20px;
    width: 250px;
    z-index: 2;
    opacity: 0.9;
    animation: sway 6s ease-in-out infinite;
}
.top-left-img { left: 50px; }
.top-right-img { right: 50px; }

@keyframes sway {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

/* ---------- Responsive ---------- */

/* M√†n h√¨nh nh·ªè h∆°n 1024px (tablet) */
@media (max-width: 1024px) {
    .side-img { width: 220px; }
    .top-img { width: 180px; }
    .button { font-size: 18px; padding: 12px 25px; }
}

/* M√†n h√¨nh nh·ªè h∆°n 768px (ƒëi·ªán tho·∫°i l·ªõn) */
@media (max-width: 768px) {
    .side-img { width: 160px; opacity: 0.85; }
    .top-img { width: 140px; }
    .button { font-size: 17px; padding: 10px 22px; }
    .top-left-img { left: 20px; }
    .top-right-img { right: 20px; }
    .left-img { left: 10px; }
    .right-img { right: 10px; }
}

/* M√†n h√¨nh nh·ªè h∆°n 480px (ƒëi·ªán tho·∫°i nh·ªè) */
@media (max-width: 480px) {
    .side-img { width: 110px; opacity: 0.8; }
    .top-img { width: 100px; }
    .button { 
        font-size: 15px; 
        padding: 8px 18px; 
        border-radius: 20px;
        white-space: nowrap;
    }
}
</style>
</HEAD>
<BODY>

<!-- N·ªÅn sao -->
<div class="stars" id="stars"></div>

<!-- Hai h√¨nh ph√≠a d∆∞·ªõi -->
<img src="./love2.jpg" class="side-img left-img" alt="C√¥ g√°i d·ªÖ th∆∞∆°ng">
<img src="./love3.jpg" class="side-img right-img" alt="Ch√†ng trai t·∫∑ng hoa">

<!-- Hai h√¨nh ph√≠a tr√™n -->
<img src="./love4.jpg" class="top-img top-left-img" alt="·∫¢nh d·ªÖ th∆∞∆°ng b√™n tr√°i tr√™n">
<img src="./love5.jpg" class="top-img top-right-img" alt="·∫¢nh d·ªÖ th∆∞∆°ng b√™n ph·∫£i tr√™n">

<!-- N√∫t Y√™u Anh -->
<a href="https://quanmn.github.io/reallove/love.html" target="_blank">
    <button class="button" id="loveButton">Y√™u anh Nmquan üíñ</button>
</a>

<canvas id="pinkboard"></canvas>

<script>
// === Hi·ªáu ·ª©ng sao l·∫•p l√°nh ===
const starsContainer = document.getElementById("stars");
for (let i = 0; i < 150; i++) {
    const star = document.createElement("div");
    star.classList.add("star");
    const size = Math.random() * 3 + 1;
    star.style.width = `${size}px`;
    star.style.height = `${size}px`;
    star.style.top = `${Math.random() * 100}%`;
    star.style.left = `${Math.random() * 100}%`;
    star.style.animationDelay = `${Math.random() * 5}s`;
    starsContainer.appendChild(star);
}

// === Hi·ªÉn th·ªã n√∫t sau 3s, ·∫©n sau 10s ===
setTimeout(function() {
    var loveButton = document.getElementById('loveButton');
    loveButton.classList.add('visible');
    setTimeout(function() {
        loveButton.classList.remove('visible');
    }, 10000);
}, 3000);

// === Hi·ªáu ·ª©ng tr√°i tim ===
var settings = {
    particles: {
        length: 500,
        duration: 2,
        velocity: 100,
        effect: -0.75,
        size: 30,
    },
};

(function(){
    var b=0;var c=["ms","moz","webkit","o"];
    for(var a=0;a<c.length&&!window.requestAnimationFrame;++a){
        window.requestAnimationFrame=window[c[a]+"RequestAnimationFrame"];
        window.cancelAnimationFrame=window[c[a]+"CancelAnimationFrame"]||window[c[a]+"CancelRequestAnimationFrame"];
    }
    if(!window.requestAnimationFrame){
        window.requestAnimationFrame=function(h){
            var e=new Date().getTime();
            var f=Math.max(0,16-(e-b));
            var g=window.setTimeout(function(){h(e+f)},f);
            b=e+f;return g;
        };
    }
    if(!window.cancelAnimationFrame){
        window.cancelAnimationFrame=function(d){clearTimeout(d)};
    }
}());

var Point=function(x,y){this.x=(x!==undefined)?x:0;this.y=(y!==undefined)?y:0;};
Point.prototype.clone=function(){return new Point(this.x,this.y);};
Point.prototype.length=function(length){
    if(length===undefined)return Math.sqrt(this.x*this.x+this.y*this.y);
    this.normalize();this.x*=length;this.y*=length;return this;
};
Point.prototype.normalize=function(){
    var length=this.length();this.x/=length;this.y/=length;return this;
};

var Particle=function(){this.position=new Point();this.velocity=new Point();this.acceleration=new Point();this.age=0;};
Particle.prototype.initialize=function(x,y,dx,dy){
    this.position.x=x;this.position.y=y;
    this.velocity.x=dx;this.velocity.y=dy;
    this.acceleration.x=dx*settings.particles.effect;
    this.acceleration.y=dy*settings.particles.effect;
    this.age=0;
};
Particle.prototype.update=function(deltaTime){
    this.position.x+=this.velocity.x*deltaTime;
    this.position.y+=this.velocity.y*deltaTime;
    this.velocity.x+=this.acceleration.x*deltaTime;
    this.velocity.y+=this.acceleration.y*deltaTime;
    this.age+=deltaTime;
};
Particle.prototype.draw=function(context,image){
    function ease(t){return (--t)*t*t+1;}
    var size=image.width*ease(this.age/settings.particles.duration);
    context.globalAlpha=1-this.age/settings.particles.duration;
    context.drawImage(image,this.position.x-size/2,this.position.y-size/2,size,size);
};

var ParticlePool=function(length){
    var particles,firstActive=0,firstFree=0,duration=settings.particles.duration;
    particles=new Array(length);
    for(var i=0;i<particles.length;i++)particles[i]=new Particle();
    this.add=function(x,y,dx,dy){
        particles[firstFree].initialize(x,y,dx,dy);
        firstFree++;if(firstFree==particles.length)firstFree=0;
        if(firstActive==firstFree)firstActive++;
        if(firstActive==particles.length)firstActive=0;
    };
    this.update=function(deltaTime){
        var i;
        if(firstActive<firstFree){
            for(i=firstActive;i<firstFree;i++)particles[i].update(deltaTime);
        }
        if(firstFree<firstActive){
            for(i=firstActive;i<particles.length;i++)particles[i].update(deltaTime);
            for(i=0;i<firstFree;i++)particles[i].update(deltaTime);
        }
        while(particles[firstActive].age>=duration&&firstActive!=firstFree){
            firstActive++;if(firstActive==particles.length)firstActive=0;
        }
    };
    this.draw=function(context,image){
        var i;
        if(firstActive<firstFree){
            for(i=firstActive;i<firstFree;i++)particles[i].draw(context,image);
        }
        if(firstFree<firstActive){
            for(i=firstActive;i<particles.length;i++)particles[i].draw(context,image);
            for(i=0;i<firstFree;i++)particles[i].draw(context,image);
        }
    };
};

(function(canvas){
    var context=canvas.getContext('2d'),
    particles=new ParticlePool(settings.particles.length),
    particleRate=settings.particles.length/settings.particles.duration,
    time;
    function pointOnHeart(t){
        return new Point(160*Math.pow(Math.sin(t),3),
            130*Math.cos(t)-50*Math.cos(2*t)-20*Math.cos(3*t)-10*Math.cos(4*t)+25);
    }
    var image=(function(){
        var canvas=document.createElement('canvas'),context=canvas.getContext('2d');
        canvas.width=settings.particles.size;canvas.height=settings.particles.size;
        function to(t){
            var point=pointOnHeart(t);
            point.x=settings.particles.size/2+point.x*settings.particles.size/350;
            point.y=settings.particles.size/2-point.y*settings.particles.size/350;
            return point;
        }
        context.beginPath();
        var t=-Math.PI,point=to(t);
        context.moveTo(point.x,point.y);
        while(t<Math.PI){
            t+=0.01;point=to(t);context.lineTo(point.x,point.y);
        }
        context.closePath();
        context.fillStyle='#ea80b0';context.fill();
        var image=new Image();image.src=canvas.toDataURL();return image;
    })();

    function render(){
        requestAnimationFrame(render);
        var newTime=new Date().getTime()/1000,deltaTime=newTime-(time||newTime);
        time=newTime;
        context.clearRect(0,0,canvas.width,canvas.height);
        var amount=particleRate*deltaTime;
        for(var i=0;i<amount;i++){
            var pos=pointOnHeart(Math.PI-2*Math.PI*Math.random());
            var dir=pos.clone().length(settings.particles.velocity);
            particles.add(canvas.width/2+pos.x,canvas.height/2-pos.y,dir.x,-dir.y);
        }
        particles.update(deltaTime);
        particles.draw(context,image);
    }
    function onResize(){
        canvas.width=canvas.clientWidth;
        canvas.height=canvas.clientHeight;
    }
    window.onresize=onResize;
    setTimeout(function(){onResize();render();},10);
})(document.getElementById('pinkboard'));
</script>
</BODY>
</HTML>


